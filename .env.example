
# ============================================
# AI PIPELINE CONFIGURATION
# ============================================

# LLM Configuration (Groq already configured above)
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=2048
LLM_STREAMING=true
LLM_TIMEOUT_MS=60000

# Local Embeddings (FREE - No API costs)
EMBEDDING_MODEL=Xenova/bge-small-en-v1.5
EMBEDDING_BATCH_SIZE=32
EMBEDDING_MAX_WAIT_MS=100
EMBEDDING_DEVICE=cpu
EMBEDDING_THREADS=4
EMBEDDING_CACHE_ENABLED=true
EMBEDDING_CACHE_TTL=86400
EMBEDDING_LRU_SIZE=1000

# Vector Database (ChromaDB)
CHROMA_HOST=localhost
CHROMA_PORT=8000
CHROMA_PATH=./data/chromadb
VECTOR_SEARCH_TOP_K=5
VECTOR_SEARCH_THRESHOLD=0.5
VECTOR_CACHE_ENABLED=true
VECTOR_CACHE_TTL=3600

# HNSW Index Settings
HNSW_M=16
HNSW_EF_CONSTRUCT=200
HNSW_EF_SEARCH=50

# RAG (Retrieval Augmented Generation)
RAG_TOP_K=5
RAG_MIN_SCORE=0.5
RAG_MAX_CONTEXT_LENGTH=4000
RAG_USE_COMPRESSION=true
RAG_COMPRESSION_RATIO=0.5
RAG_RERANKING=false
RAG_CACHE_RESPONSES=true
RAG_RESPONSE_CACHE_TTL=3600

# LangGraph Configuration
GRAPH_MAX_ITERATIONS=10
GRAPH_TIMEOUT_MS=120000
GRAPH_MAX_RETRIES=3
GRAPH_RETRY_DELAY_MS=1000
GRAPH_MEMORY_TYPE=buffer
GRAPH_MEMORY_MAX_MESSAGES=10
GRAPH_VERBOSE=false
GRAPH_LOG_STEPS=false

# MCP Server Configuration
MCP_ENABLED=true
MCP_PORT=3001
MCP_TOOL_TIMEOUT=30000
MCP_MAX_CONCURRENT=5
MCP_SANDBOX=true
MCP_ALLOWED_OPERATIONS=read,search,scrape
MCP_MAX_FILE_SIZE=10485760
MCP_MAX_EXECUTION_TIME=10000
MCP_MAX_MEMORY=536870912
MCP_CACHE_ENABLED=true
MCP_CACHE_TTL=3600

# MCP Tools
MCP_TOOL_WEB_SEARCH=true
MCP_WEB_SEARCH_MAX_RESULTS=10
MCP_TOOL_SCRAPING=true
MCP_SCRAPING_MAX_PAGES=5
MCP_SCRAPING_TIMEOUT=10000
MCP_TOOL_FILE_OPS=true
MCP_ALLOWED_PATHS=./data,./uploads
MCP_TOOL_CODE_EXEC=false
MCP_CODE_LANGUAGES=python,javascript

# Memory Configuration
MEMORY_BUFFER_SIZE=10
MEMORY_CONVERSATION_TTL=3600
MEMORY_USE_SUMMARY=false
MEMORY_SUMMARY_EVERY_N=5
MEMORY_SUMMARY_MAX_TOKENS=500
MEMORY_USE_VECTOR=true
MEMORY_VECTOR_TOP_K=3
MEMORY_BACKEND=redis

# Security Configuration
SECURITY_MAX_INPUT_LENGTH=10000
SECURITY_VALIDATE_INPUTS=true
SECURITY_DETECT_INJECTION=true
SECURITY_INJECTION_THRESHOLD=0.7
SECURITY_SANITIZE_OUTPUTS=true
SECURITY_ALLOWED_TAGS=p,br,strong,em,code,pre

# AI-specific Rate Limiting
AI_RATE_LIMIT_ENABLED=true
# Free tier
AI_RATE_FREE_REQUESTS=100
AI_RATE_FREE_AI_CALLS=10
AI_RATE_FREE_EMBEDDINGS=100
# Pro tier
AI_RATE_PRO_REQUESTS=1000
AI_RATE_PRO_AI_CALLS=100
AI_RATE_PRO_EMBEDDINGS=1000
# Enterprise tier
AI_RATE_ENTERPRISE_REQUESTS=10000
AI_RATE_ENTERPRISE_AI_CALLS=1000
AI_RATE_ENTERPRISE_EMBEDDINGS=10000

# Cost Optimization
OPTIMIZE_REDUCE_CONTEXT=true
OPTIMIZE_USE_STREAMING=true
OPTIMIZE_COMPRESS_HISTORY=true
OPTIMIZE_AGGRESSIVE_CACHE=false
OPTIMIZE_DEDUPE_QUERIES=true
OPTIMIZE_REUSE_EMBEDDINGS=true
OPTIMIZE_BATCH_EMBEDDINGS=true
OPTIMIZE_TARGET_CACHE_RATIO=0.85
OPTIMIZE_TARGET_TOKEN_REDUCTION=0.60

# Monitoring & Analytics
MONITORING_ENABLED=true
MONITORING_INTERVAL=60000
MONITORING_TRACK_TOKENS=true
MONITORING_TRACK_LATENCY=true
MONITORING_TRACK_CACHE=true
MONITORING_TRACK_COSTS=true
MONITORING_ALERT_HIGH_COST=false
MONITORING_COST_THRESHOLD=100
MONITORING_RETENTION_DAYS=30

# Feature Flags
FEATURE_RAG=true
FEATURE_AGENTS=true
FEATURE_TOOLS=true
FEATURE_STREAMING=true
FEATURE_VECTOR_SEARCH=true
FEATURE_MEMORY=true
